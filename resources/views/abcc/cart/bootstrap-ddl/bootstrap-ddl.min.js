/*!**********************************************************************
 *
 * Title:        Bootstrap-DDL
 * Author:       Sam Nesbitt
 * Project:      https://github.com/Swazimodo/bootstrap-ddl
 * Dependancies: Bootstrap v3, jQuery
 * Description:  Bootstrap-DDL gives you a replacement for the
 *               select and option elements that is fully stylable
 *
 ***********************************************************************/
function onDdlBlur(){closeDdlMenu.call(this)}function onDdlClick(){ddlToggle.call(this)}function onDdlKeyPress(n){var t=n.keyCode?n.keyCode:n.which;t==13&&ddlToggle.call(this)}function onDdlKeyDown(n){var u=jQuery(this).siblings(".dropdown-menu"),t=u.find("li.active"),i=n.keyCode?n.keyCode:n.which,f,e,r,o;if(i!=13&&n.preventDefault(),i==27&&closeDdlMenu.call(this),i==40||i==38){i==40?t.exists()&&t.next().exists()&&(t.removeClass("active"),t=t.next().addClass("active")):i==38&&t.exists()&&t.prev().exists()&&(t.removeClass("active"),t=t.prev().addClass("active"));t.overflowVisible(!1,u,t)||u.scrollTop(u.scrollTop()+t.position().top,0);return}if(!(i<65)&&!(i>90))for(f=String.fromCharCode(i).toLowerCase(),e=new Date,e.getTime()-_ddlSearch.lastPress>300?_ddlSearch.search=f:_ddlSearch.search+=f,_ddlSearch.lastPress=e,r=0;r<_ddlSearch.items.length;r++)if(_ddlSearch.items[r].startsWith(_ddlSearch.search)){o=_ddlSearch.ul.find("li:not(.null)");_ddlSearch.ul.children().removeClass("active");o.eq(r).addClass("active");_ddlSearch.ul.scrollTop(_ddlSearch.ul.scrollTop()+o.eq(r).position().top,0);break}}function onDdlMenuMouseDown(n){n.preventDefault()}function onDdlMenuClick(){var n=jQuery(this);n.siblings().removeClass("active");n.addClass("active");selectDdlItem.call(n.parent());closeDdlMenu.call(n.parents(".drop-down-list").find(".form-control"))}function ddlToggle(){var t=jQuery(this),n=t.siblings(".dropdown-menu"),i,u,r;t.hasClass("open")?(closeDdlMenu.call(t),selectDdlItem.call(n),ddlStartEnd()):(t.addClass("open"),n.show(),t.hasClass("nullable")&&!n.find("li.null").exists()&&(u=jQuery('<li class="null"><a><\/a><\/li>'),n.prepend(u),r=t.attr("placeholder"),r||(r="Select an item"),u.find("a").text(r).data("text",r)),t.val()?(i=n.children().filter(function(){var n=getDdlOptionText.call(this);return n===t.val()}).addClass("active"),i.siblings().removeClass("active")):(i=n.children().first().addClass("active"),i.siblings().removeClass("active")),ddlStartSearch.call(n),n.scrollTop(n.scrollTop()+i.position().top,0))}function getDdlOptionText(){var t=jQuery(this),n="";return t.hasClass("null")||(n=t.data("text"),n||(n=t.text())),n}function selectDdlItem(){var i=jQuery(this),n=i.siblings("input.form-control"),r=i.find("li.active"),u=n.val(),t;n.val(getDdlOptionText.call(r));t=r.data("value");t==undefined?n.removeData("value"):n.data("value",t);u!==n.val()&&n.change()}function closeDdlMenu(){var n=jQuery(this).removeClass("open");n.siblings(".dropdown-menu").hide()}function ddlStartSearch(){var n=jQuery(this),t=n.find("li:not(.null)").map(function(n,t){return getDdlOptionText.call(t).toLowerCase()});_ddlSearch={items:t,ul:n,lastPress:0,search:"",active:!0}}function ddlStartEnd(){_ddlSearch={items:[],ul:undefined,lastPress:0,search:"",active:!1}}var $fn_val_original,_ddlSearch;jQuery(function(){jQuery.fn.loadOptions=function(n,t,i){var u=jQuery(this[0]),f,s,h,c,r,e,o;if(!u.is("input.form-control"))throw'bootstrap-ddl: loadOptions can only be called on "input.form-control"';if(!u.parents(".form-group.drop-down-list").exists())throw'bootstrap-ddl: loadOptions can only be called inside ".form-group.drop-down-list"';if(f=u.siblings(".dropdown-menu"),f.exists()||(f=jQuery('<ul class="dropdown-menu"><\/ul>'),s=u.next(),s.is("span.ddl-caret")?f.insertAfter(s):(console.log("bootstrap-ddl: missing span.ddl-caret after input"),f.insertAfter(u))),t===!0?u.addClass("nullable"):u.removeClass("nullable"),n&&n.length!=undefined){if(h=-1,i)if(isNaN(i))throw"bootstrap-ddl: currentIndex is not valid";else{if(c=parseInt(i),n.length<c)throw"bootstrap-ddl: currentIndex value exceeds options.length";h=c}for(r=0;r<n.length;r++)n[r]&&(e=jQuery("<li><\/li>"),o=jQuery("<a><\/a>"),typeof n[r]=="string"||n[r]instanceof String||!isNaN(n[r])?o.text(n[r]):n[r].html?(o.html(n[r].html),n[r].text&&e.data("text",n[r].text)):n[r].text?o.text(n[r].text):console.log("options["+r+"] is not valid"),n[r].value&&e.data("value",n[r].value),o.appendTo(e),e.appendTo(f),r==h&&(e.addClass("active"),selectDdlItem.call(f)))}else throw"bootstrap-ddl: There are not any options to load";return this};jQuery.fn.exists=function(){return this.length!==0};jQuery.fn.overflowVisible=function(n,t,i){var u=jQuery(t),r=jQuery(i);return n?r.position().top>=0&&r.position().top<u.height():r.position().top-r.height()>=0&&r.position().top+r.height()<u.height()};$fn_val_original=$.fn.val;jQuery.fn.val=function(n){var r=!1,t=$(this),i;return(t.length===1&&t.is("input.form-control:text")&&t.parents(".form-group.drop-down-list").exists()&&(r=!0),arguments.length>=1)?$fn_val_original.call(this,n):r?(i=t.data("value"),i==undefined)?$fn_val_original.call(this):i:$fn_val_original.call(this)};jQuery(document).on("blur",".drop-down-list input.form-control",onDdlBlur);jQuery(document).on("click",".drop-down-list input.form-control",onDdlClick);jQuery(document).on("keypress",".drop-down-list input.form-control",onDdlKeyPress);jQuery(document).on("keydown",".drop-down-list input.form-control",onDdlKeyDown);jQuery(document).on("mousedown",".drop-down-list .dropdown-menu li",onDdlMenuMouseDown);jQuery(document).on("click",".drop-down-list .dropdown-menu li",onDdlMenuClick)});_ddlSearch={items:[],ul:undefined,lastPress:0,search:"",active:!1};
//# sourceMappingURL=bootstrap-ddl.min.js.map